<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ‚Äì Bellissimo</title>
    <link rel="stylesheet" href="../css/style.css">
    <script src="../js/theme.js"></script>
</head>
<body class="settings-page">
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2 class="sidebar-logo">Bellissimo</h2>
        </div>
        <nav class="sidebar-nav">
            <a href="index.html" class="nav-item">
                <span class="nav-dot">‚Ä¢</span>
                <span>Home</span>
            </a>
            <div class="nav-item-dropdown">
                <a href="menu.html" class="nav-item nav-item-parent">
                    <span class="nav-icon">üç¥</span>
                    <span>Menu</span>
                    <span class="dropdown-arrow">‚ñº</span>
                </a>
                <div class="nav-dropdown-menu">
                    <a href="menu.html" class="nav-dropdown-item">–í—Å—ñ —Å—Ç—Ä–∞–≤–∏</a>
                    <a href="Mcdonalds.html" class="nav-dropdown-item">McDonald's</a>
                    <a href="kfc.html" class="nav-dropdown-item">KFC</a>
                    <a href="sushi.html" class="nav-dropdown-item">Sushi</a>
                    <a href="dominos.html" class="nav-dropdown-item">Pizza</a>
                    <a href="coffee.html" class="nav-dropdown-item">Coffee</a>
                </div>
            </div>
            <div class="nav-item-dropdown">
                <a href="news.html" class="nav-item nav-item-parent">
                    <span class="nav-icon">üì∞</span>
                    <span>–ù–æ–≤–∏–Ω–∏</span>
                    <span class="dropdown-arrow">‚ñº</span>
                </a>
                <div class="nav-dropdown-menu">
                    <a href="news.html" class="nav-dropdown-item">–í—Å—ñ –Ω–æ–≤–∏–Ω–∏</a>
                    <a href="news.html#trends" class="nav-dropdown-item">–¢—Ä–µ–Ω–¥–∏</a>
                    <a href="news.html#seasonal" class="nav-dropdown-item">–°–µ–∑–æ–Ω–Ω—ñ –Ω–æ–≤–∏–Ω–∫–∏</a>
                    <a href="news.html#vegan" class="nav-dropdown-item">–í–µ–≥–∞–Ω—Å—å–∫–∞ –∫—É—Ö–Ω—è</a>
                </div>
            </div>
            <a href="dominos.html" class="nav-item">
                <span class="nav-icon">üçï</span>
                <span>Pizza</span>
            </a>
            <div class="nav-item-dropdown active">
                <a href="settings.html" class="nav-item nav-item-parent active">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span>Settings</span>
                    <span class="dropdown-arrow">‚ñº</span>
                </a>
                <div class="nav-dropdown-menu">
                    <a href="settings.html" class="nav-dropdown-item">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</a>
                    <a href="profile.html" class="nav-dropdown-item">–ü—Ä–æ—Ñ—ñ–ª—å</a>
                    <a href="orders.html" class="nav-dropdown-item">–ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</a>
                    <a href="orders.html#history" class="nav-dropdown-item">–Ü—Å—Ç–æ—Ä—ñ—è –∑–∞–º–æ–≤–ª–µ–Ω—å</a>
                </div>
            </div>
            <a href="promo.html" class="nav-item promo-code">
                <span>PROMO CODE</span>
            </a>
            <a href="about.html" class="nav-item">
                <span class="nav-dot">‚Ä¢</span>
                <span>About us</span>
            </a>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <header class="page-header">
            <a href="index.html" class="back-button">‚Üê</a>
            <h1>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h1>
        </header>

        <form class="settings-form" id="settingsForm">
            <label for="name">–Ü–º'—è</label>
            <input type="text" id="name" name="name" required>

            <label for="email">Email</label>
            <input type="email" id="email" name="email" required>

            <label for="language">–ú–æ–≤–∞</label>
            <select id="language">
                <option selected>–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
                <option>English</option>
                <option>Italiano</option>
            </select>

            <label for="theme">–¢–µ–º–∞</label>
            <select id="theme">
                <option value="light">–°–≤—ñ—Ç–ª–∞</option>
                <option value="dark">–¢–µ–º–Ω–∞</option>
            </select>

            <label for="notifications">–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è</label>
            <select id="notifications">
                <option selected>–£–≤—ñ–º–∫–Ω–µ–Ω–æ</option>
                <option>–í–∏–º–∫–Ω–µ–Ω–æ</option>
            </select>

            <button type="submit">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
        </form>
        
        <div style="margin-top: 30px; text-align: center; display: flex; flex-direction: column; gap: 15px;">
            <a href="profile.html" style="display: inline-block; padding: 15px 30px; background: #32B432; color: white; text-decoration: none; border-radius: 10px; font-weight: bold;">–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å</a>
            <button id="logoutBtn" style="padding: 15px 30px; background: #dc3545; color: white; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; font-size: 1rem;">–í–∏–π—Ç–∏ –∑ –∞–∫–∞—É–Ω—Ç–∞</button>
        </div>
    </main>

    <script src="../js/auth.js"></script>
    <script>
  
        window.addEventListener('DOMContentLoaded', function() {
            if (window.auth && !window.auth.isLoggedIn()) {
                window.location.href = 'register.html';
                return;
            }
            

            const user = window.auth && window.auth.getCurrentUser();
            if (user) {
                document.getElementById('name').value = user.fullname || '';
                document.getElementById('email').value = user.email || '';
            }
            

            document.getElementById('settingsForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const name = document.getElementById('name').value;
                const email = document.getElementById('email').value;
                

                if (user) {
                    user.fullname = name;
                    user.email = email;
                    localStorage.setItem('bellissimo-user', JSON.stringify(user));
                    localStorage.setItem('bellissimo-current-user', JSON.stringify(user));
                    alert('–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–æ!');
                }
            });

            document.getElementById('logoutBtn').addEventListener('click', function() {
                if (confirm('–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–π—Ç–∏?')) {
                    localStorage.removeItem('bellissimo-logged-in');
                    localStorage.removeItem('bellissimo-current-user');
                    window.location.href = 'login.html';
                }
            });
        });
    </script>
    <script src="../js/dropdown.js"></script>
</body>
</html>
